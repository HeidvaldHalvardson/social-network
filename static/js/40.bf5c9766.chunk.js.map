{"version":3,"file":"static/js/40.bf5c9766.chunk.js","mappings":"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","sources":["components/pages/Profile/ProfileStatus/ProfileStatus.jsx","components/pages/Profile/ProfileInfo/ProfileInfo.jsx","components/pages/Profile/MyPosts/Post/Post.jsx","components/pages/Profile/MyPosts/MyPosts.jsx","components/pages/Profile/MyPosts/MyPostsContainer.jsx","components/pages/Profile/Profile.jsx","components/pages/Profile/ProfileContainer.jsx","webpack://social-network/./src/components/pages/customs/CustomTextarea/CustomTextarea.module.css?25bd","webpack://social-network/./src/components/pages/customs/ErrorMessage/ErrorMessage.module.css?e0b3","components/pages/customs/ErrorMessage/ErrorMessage.jsx","components/pages/customs/CustomTextarea/CustomTextarea.jsx"],"sourcesContent":["import React, {useState, useEffect} from \"react\";\r\n\r\nconst ProfileStatus = (props) => {\r\n\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [status, setStatus] = useState(props.status);\r\n\r\n  useEffect( () => {\r\n    setStatus(props.status)\r\n  }, [props.status])\r\n\r\n  const activateEditMode = () => {\r\n    setEditMode(true)\r\n  }\r\n\r\n  const deactivateEditMode = () => {\r\n    setEditMode(false);\r\n    props.updateStatus(status);\r\n  }\r\n\r\n  const onStatusChange = (evt) => {\r\n    setStatus(evt.currentTarget.value)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {!editMode\r\n        ?\r\n        <div>\r\n          <span onClick={activateEditMode}>{props.status || \"what's new?\"}</span>\r\n        </div>\r\n        :\r\n        <div>\r\n          <input onChange={onStatusChange} autoFocus={true} onBlur={deactivateEditMode} value={status} />\r\n        </div>\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ProfileStatus;","import React from \"react\";\r\nimport Preloader from \"../../customs/Preloader/Preloader\";\r\nimport ProfileStatus from \"../ProfileStatus/ProfileStatus\";\r\nimport userPhoto from \"../../../../assects/images/user.jpg\";\r\n\r\nconst ProfileInfo = (props) => {\r\n\r\n  if (!props.profile) {\r\n    return <Preloader />\r\n  }\r\n\r\n  const onPhotoSelected = (evt) => {\r\n    if (evt.target.files.length) {\r\n      props.savePhoto(evt.target.files[0])\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n        <img src={props.profile.photos.large !== null ? props.profile.photos.large : userPhoto} width={200} height={200} alt=\"\"/>\r\n        {props.isOwner && <input type={\"file\"} onChange={onPhotoSelected}/>}\r\n        <ProfileStatus status={props.status} updateStatus={props.updateStatus}/>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ProfileInfo;","import React from \"react\";\r\n\r\nconst Post = ({children}) => {\r\n  return (\r\n    <li>\r\n      {children}\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default Post;","import React from \"react\";\r\nimport Post from \"./Post/Post\";\r\nimport {Field, Form, Formik} from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport {CustomTextarea} from \"../../customs/CustomTextarea/CustomTextarea\";\r\n\r\nconst validationSchema = Yup.object({\r\n  newPost: Yup.string()\r\n    .required('Field is required')\r\n    .max(100, `Max length is 100 symbols`)\r\n})\r\n\r\nconst AddPostForm = (props) => {\r\n\r\n  const submit = (values, {setSubmitting, resetForm}) => {\r\n    props.addPost(values.newPost);\r\n    resetForm({values: ''})\r\n    setSubmitting(false);\r\n  }\r\n\r\n  return (\r\n    <Formik\r\n      initialValues={{newPost: ''}}\r\n      onSubmit={submit}\r\n      validateOnBlur={false}\r\n      validationSchema={validationSchema}\r\n    >\r\n      {({isSubmitting, errors, isValid}) => (\r\n\r\n        <Form>\r\n          <div>\r\n            <Field as={CustomTextarea} name=\"newPost\" placeholder=\"Enter your post\" errors={errors}/>\r\n          </div>\r\n          <button type=\"submit\" disabled={(isSubmitting || !isValid)}>\r\n            Add post\r\n          </button>\r\n        </Form>\r\n      )}\r\n    </Formik>\r\n  )\r\n}\r\n\r\nconst MyPosts = React.memo((props) => {\r\n  const postElement =\r\n    [...props.postData]\r\n      .reverse()\r\n      .map(item => <Post>{item.message}</Post>)\r\n\r\n  return (\r\n    <>\r\n      <h3>My posts</h3>\r\n      <div>\r\n        <AddPostForm addPost={props.addPost}/>\r\n        <ul>\r\n          {postElement}\r\n        </ul>\r\n      </div>\r\n    </>\r\n  )\r\n})\r\n\r\nexport default MyPosts;","import {addPost} from \"../../../../redux/profileReducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\nconst mapStateToPropsFactory = (state) => {\r\n  return {\r\n    postData: state.profilePage.postData,\r\n    newPostText: state.profilePage.newPostText,\r\n  }\r\n}\r\n\r\nconst mapDispatchToPropsFactory = (dispatch) => {\r\n  return {\r\n    addPost: (newPostText) => {\r\n      dispatch(addPost(newPostText))\r\n    }\r\n  }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToPropsFactory, mapDispatchToPropsFactory)(MyPosts)\r\n\r\nexport default MyPostsContainer;","import React from \"react\";\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\n\r\nconst Profile = (props) => {\r\n  return (\r\n    <>\r\n      <ProfileInfo isOwner={props.isOwner} profile={props.profile} status={props.status} updateStatus={props.updateStatus} savePhoto={props.savePhoto}/>\r\n      <MyPostsContainer />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Profile;","import React from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {addPost, getStatus, getUserProfile, savePhoto, updateStatus} from \"../../../redux/profileReducer\";\r\nimport {compose} from \"redux\";\r\nimport {withRouter} from \"../../../App\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n  refreshProfile = () => {\r\n    let userId = this.props.match.params.userId;\r\n    if (!userId) {\r\n      userId = this.props.authorisedUserId;\r\n    }\r\n    this.props.getUserProfile(userId);\r\n    this.props.getStatus(userId);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.refreshProfile();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    if (this.props.match.params.userId !== prevProps.match.params.userId) {\r\n      this.refreshProfile();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <Profile isOwner={!this.props.match.params.userId} {...this.props} profile={this.props.profile} status={this.props.status} savePhoto={this.props.savePhoto}/>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  profile: state.profilePage.profile,\r\n  status: state.profilePage.status,\r\n  authorisedUserId: state.auth.userId,\r\n  isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    addPost,\r\n    getUserProfile,\r\n    getStatus,\r\n    updateStatus,\r\n    savePhoto\r\n  }),\r\n  withRouter\r\n)(ProfileContainer)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"fieldControl\":\"CustomTextarea_fieldControl__qQVHB\",\"fieldError\":\"CustomTextarea_fieldError__9NTyF\"};","// extracted by mini-css-extract-plugin\nexport default {\"errors\":\"ErrorMessage_errors__mHYok\"};","import React from \"react\";\r\nimport style from \"./ErrorMessage.module.css\";\r\n\r\nconst ErrorMessage = ({children}) => {\r\n  return (\r\n    <p className={style.errors}>{children}</p>\r\n  )\r\n}\r\n\r\nexport default ErrorMessage;","import React from \"react\";\r\nimport style from \"./CustomTextarea.module.css\";\r\nimport ErrorMessage from \"../ErrorMessage/ErrorMessage\";\r\n\r\nexport const CustomTextarea = ({errors, ...props}) => {\r\n  return (\r\n    <>\r\n      <textarea className={`${style.fieldControl} ${errors[props.name] ? style.fieldError : ''}`} {...props}/>\r\n      <ErrorMessage>{errors[props.name]}</ErrorMessage>\r\n    </>\r\n  )\r\n}\r\n\r\nexport const CustomInput = ({errors, ...props}) => {\r\n  return (\r\n    <>\r\n      <input className={`${style.fieldControl} ${errors[props.name] ? style.fieldError : ''}`} {...props}/>\r\n      <ErrorMessage>{errors[props.name]}</ErrorMessage>\r\n    </>\r\n  )\r\n}\r\n"],"names":["props","useState","editMode","setEditMode","status","setStatus","useEffect","onChange","evt","currentTarget","value","autoFocus","onBlur","updateStatus","onClick","profile","Preloader","src","photos","large","userPhoto","width","height","alt","isOwner","type","target","files","length","savePhoto","children","validationSchema","Yup","newPost","required","max","AddPostForm","initialValues","onSubmit","values","setSubmitting","resetForm","addPost","validateOnBlur","isSubmitting","errors","isValid","as","CustomTextarea","name","placeholder","disabled","React","postElement","postData","reverse","map","item","message","connect","state","profilePage","newPostText","dispatch","MyPosts","ProfileContainer","refreshProfile","userId","match","params","authorisedUserId","getUserProfile","getStatus","this","prevProps","prevState","snapshot","compose","auth","isAuth","withRouter","className","style","CustomInput"],"sourceRoot":""}