"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[842],{9842:function(e,t,r){r.r(t),r.d(t,{default:function(){return A}});var s=r(8683),n=r(5671),o=r(3144),i=r(136),a=r(7277),u=r(2791),l=r(2398),c=r(885),d=r(184),p=function(e){var t=(0,u.useState)(!1),r=(0,c.Z)(t,2),s=r[0],n=r[1],o=(0,u.useState)(e.status),i=(0,c.Z)(o,2),a=i[0],l=i[1];(0,u.useEffect)((function(){l(e.status)}),[e.status]);return(0,d.jsx)(d.Fragment,{children:s?(0,d.jsx)("div",{children:(0,d.jsx)("input",{onChange:function(e){l(e.currentTarget.value)},autoFocus:!0,onBlur:function(){n(!1),e.updateStatus(a)},value:a})}):(0,d.jsx)("div",{children:(0,d.jsx)("span",{onClick:function(){n(!0)},children:e.status||"what's new?"})})})},h=r(3946),f="ProfileInfo_contact__TWnE1",x=function(e){if(e.contactValue)return(0,d.jsxs)("li",{className:f,children:[(0,d.jsxs)("b",{children:[e.contactTitle,":"]})," ",e.contactValue]})},j=function(e){if(!e.profile)return(0,d.jsx)(l.Z,{});return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{children:[(0,d.jsx)("img",{src:null!==e.profile.photos.large?e.profile.photos.large:h,width:200,height:200,alt:""}),e.isOwner&&(0,d.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])}}),(0,d.jsx)(p,{status:e.status,updateStatus:e.updateStatus}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("p",{children:[(0,d.jsx)("b",{children:"Name:"})," ",e.profile.fullName]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("b",{children:"Looking for a job:"})," ",e.profile.lookingForAJob?"yes":"no"]}),e.profile.lookingForAJob&&(0,d.jsxs)("p",{children:[(0,d.jsx)("b",{children:"My professional skills:"})," ",e.profile.lookingForAJobDescription?"yes":"no"]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("b",{children:"About me:"})," ",e.profile.aboutMe]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("b",{children:"Contacts:"}),(0,d.jsx)("ul",{children:Object.keys(e.profile.contacts).map((function(t){return(0,d.jsx)(x,{contactTitle:t,contactValue:e.profile.contacts[t]},t)}))})]})]})]})})},m=r(6508),g=r(2982),v=function(e){var t=e.children;return(0,d.jsx)("li",{children:t})},P=r(5705),b=r(132),w=r(2539),k=b.Ry({newPost:b.Z_().required("Field is required").max(100,"Max length is 100 symbols")}),y=function(e){return(0,d.jsx)(P.J9,{initialValues:{newPost:""},onSubmit:function(t,r){var s=r.setSubmitting,n=r.resetForm;e.addPost(t.newPost),n({values:""}),s(!1)},validateOnBlur:!1,validationSchema:k,children:function(e){var t=e.isSubmitting,r=e.errors,s=e.isValid;return(0,d.jsxs)(P.l0,{children:[(0,d.jsx)("div",{children:(0,d.jsx)(P.gN,{as:w.i,name:"newPost",placeholder:"Enter your post",errors:r})}),(0,d.jsx)("button",{type:"submit",disabled:t||!s,children:"Add post"})]})}})},Z=u.memo((function(e){var t=(0,g.Z)(e.postData).reverse().map((function(e){return(0,d.jsx)(v,{children:e.message})}));return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h3",{children:"My posts"}),(0,d.jsxs)("div",{children:[(0,d.jsx)(y,{addPost:e.addPost}),(0,d.jsx)("ul",{children:t})]})]})})),_=r(8687),F=(0,_.$j)((function(e){return{postData:e.profilePage.postData,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e((0,m.q2)(t))}}}))(Z),S=function(e){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(j,{isOwner:e.isOwner,profile:e.profile,status:e.status,updateStatus:e.updateStatus,savePhoto:e.savePhoto}),(0,d.jsx)(F,{})]})},C=r(7781),N=r(2611),T=function(e){(0,i.Z)(r,e);var t=(0,a.Z)(r);function r(){var e;(0,n.Z)(this,r);for(var s=arguments.length,o=new Array(s),i=0;i<s;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).refreshProfile=function(){var t=e.props.match.params.userId;t||(t=e.props.authorisedUserId),e.props.getUserProfile(t),e.props.getStatus(t)},e}return(0,o.Z)(r,[{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,r){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(S,(0,s.Z)((0,s.Z)({isOwner:!this.props.match.params.userId},this.props),{},{profile:this.props.profile,status:this.props.status,savePhoto:this.props.savePhoto}))})}}]),r}(u.Component),A=(0,C.qC)((0,_.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorisedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{addPost:m.q2,getUserProfile:m.et,getStatus:m.lR,updateStatus:m.Nf,savePhoto:m.Ju}),N.E)(T)},2539:function(e,t,r){r.d(t,{t:function(){return h},i:function(){return p}});var s=r(8683),n=r(5987),o=(r(2791),"CustomTextarea_fieldControl__qQVHB"),i="CustomTextarea_fieldError__9NTyF",a="ErrorMessage_errors__mHYok",u=r(184),l=function(e){var t=e.children;return(0,u.jsx)("p",{className:a,children:t})},c=["errors"],d=["errors"],p=function(e){var t=e.errors,r=(0,n.Z)(e,c);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("textarea",(0,s.Z)({className:"".concat(o," ").concat(t[r.name]?i:"")},r)),(0,u.jsx)(l,{children:t[r.name]})]})},h=function(e){var t=e.errors,r=(0,n.Z)(e,d);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("input",(0,s.Z)({className:"".concat(o," ").concat(t[r.name]?i:"")},r)),(0,u.jsx)(l,{children:t[r.name]})]})}},3946:function(e,t,r){e.exports=r.p+"static/media/user.5031c56773989690b056.jpg"}}]);
//# sourceMappingURL=842.fcd7bdc4.chunk.js.map